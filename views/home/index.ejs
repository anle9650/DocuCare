<div id="app" class="wrapper">
    <!-- Sidebar -->
    <nav id="sidebar-left" :class="[ showSchedule ? 'sidebar' : 'sidebar inactive' ]">
        <div class="sidebar-header">
            <h3>Schedule</h3>
        </div>
        <ul class="list-unstyled components">
            <p>Today <a href="calender"><i class="bi bi-calendar3"></i></a></p>
            <li class="active">
                <a href="#allSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">All</a>
                <ul class="collapse list-unstyled" id="allSubmenu">
                    <record-display 
                        v-if="result != null" 
                        v-for="(record, index) in result.data.records" 
                        :key="record.id" 
                        :record="JSON.stringify(record)" 
                        @mouseover="blurForm = true" 
                        @mouseleave="blurForm = false" 
                        @click="setRecord(record)"
                    ></record-display>
                    <li v-else>No results found.</li>
                </ul>
            </li>
            <li>
                <a href="#arrivedSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Arrived</a>
                <ul class="collapse list-unstyled" id="arrivedSubmenu">
                    <record-display 
                        v-if="result != null" 
                        v-for="(record, index) in arrived" 
                        :key="record.id" 
                        :record="JSON.stringify(record)" 
                        @mouseover="blurForm = true" 
                        @mouseleave="blurForm = false" 
                        @click="setRecord(record)"
                    ></record-display>
                    <li v-else>No results found.</li>
                </ul>
            </li>
            <li>
                <a href="#incompleteSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Incomplete</a>
                <ul class="collapse list-unstyled" id="incompleteSubmenu">
                    <record-display 
                        v-if="result != null" 
                        v-for="(record, index) in incomplete" 
                        :key="record.id" 
                        :record="JSON.stringify(record)" 
                        @mouseover="blurForm = true" 
                        @mouseleave="blurForm = false" 
                        @click="setRecord(record)"
                    ></record-display>
                    <li v-else>No results found.</li>
                </ul>
            </li>
        </ul>

    </nav>
    <!-- Sidebar -->
    <nav id="sidebar-left" class="sidebar" v-if="record != null && !showSchedule">
        <div class="sidebar-header">
            <h3>All visits</h3>
        </div>
        <ul class="list-unstyled components">
            <record-display 
                v-for="(record, index) in patientRecords" 
                :key="record.id" 
                :record="JSON.stringify(record)" 
                :complete-display="false" 
                @mouseover="blurForm = true" 
                @mouseleave="blurForm = false" 
                @click="setRecord(record)"
            ></record-display>
        </ul>
    </nav>
    <!-- Page Content -->
    <div id="content">
        <div :class="[ blurForm ? 'container blur' : 'container' ]">
            <nav class="navbar navbar-expand-lg">
                <button type="button" id="sidebarCollapse" class="btn btn-info" @click="showSchedule = !showSchedule">
                    <i class="fas fa-align-left"></i>
                    <span> {{ showSchedule ? ' Show patient records' : ' Show schedule' }}</span>
                </button>
                <div class="col-4 mr-auto form-outline">
                    <input type="search" id="form1" class="form-control" placeholder="Patient name or ID number"
                    aria-label="Search" />
                </div>
            </nav>
        <record-form v-if="record != null" :record="JSON.stringify(record)" @record-change="updateRecord"></record-form>
        </div>
    </div>

</div>

    
